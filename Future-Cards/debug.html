<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Debug Future Cards</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        body {
            background-color: #0d1421;
            color: white;
            font-family: Arial, sans-serif;
            padding: 20px;
        }
        
        .debug-section {
            margin: 20px 0;
            padding: 15px;
            border: 1px solid #333;
            border-radius: 8px;
            background-color: #1a1a2e;
        }
        
        .simple-game-board {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
            max-width: 800px;
            margin: 20px auto;
        }
        
        .simple-position {
            text-align: center;
        }
        
        .simple-stacks {
            display: flex;
            justify-content: space-around;
            margin-top: 10px;
        }
        
        .simple-stack {
            width: 70px;
            height: 98px;
            border: 2px dashed #666;
            border-radius: 8px;
            position: relative;
        }
        
        .card {
            width: 70px;
            height: 98px;
            border-radius: 8px;
            overflow: hidden;
            border: 2px solid #333;
            background-color: #2a2a3e;
        }
        
        .card img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
    </style>
</head>
<body>
    <h1>Debug Future Cards - Test de Imágenes</h1>
    
    <div class="debug-section">
        <h2>Información del Sistema</h2>
        <p>URL Actual: <span id="current-url"></span></p>
        <p>Base Path: <span id="base-path"></span></p>
    </div>
    
    <div class="debug-section">
        <h2>Test Directo de Imágenes</h2>
        <p>Estas imágenes deberían cargarse si las rutas están correctas:</p>
        <div style="display: flex; gap: 10px; flex-wrap: wrap;">
            <img src="img/cards/Backcard.png" style="width: 70px; height: 98px; border: 1px solid #666;" alt="Backcard">
            <img src="img/cards/A-C.png" style="width: 70px; height: 98px; border: 1px solid #666;" alt="A-C">
            <img src="img/cards/K-H.png" style="width: 70px; height: 98px; border: 1px solid #666;" alt="K-H">
            <img src="img/cards/Q-D.png" style="width: 70px; height: 98px; border: 1px solid #666;" alt="Q-D">
        </div>
    </div>
    
    <div class="debug-section">
        <h2>Simulación Simple del Tablero</h2>
        <div class="simple-game-board">
            <div class="simple-position">
                <h3>A</h3>
                <div class="simple-stacks">
                    <div class="simple-stack" id="a-down">
                        <span style="color: #999; font-size: 12px;">Boca Abajo</span>
                    </div>
                    <div class="simple-stack" id="a-up">
                        <span style="color: #999; font-size: 12px;">Boca Arriba</span>
                    </div>
                </div>
            </div>
            
            <div class="simple-position">
                <h3>2</h3>
                <div class="simple-stacks">
                    <div class="simple-stack" id="two-down">
                        <span style="color: #999; font-size: 12px;">Boca Abajo</span>
                    </div>
                    <div class="simple-stack" id="two-up">
                        <span style="color: #999; font-size: 12px;">Boca Arriba</span>
                    </div>
                </div>
            </div>
            
            <div class="simple-position">
                <h3>K</h3>
                <div class="simple-stacks">
                    <div class="simple-stack" id="k-down">
                        <span style="color: #999; font-size: 12px;">Boca Abajo</span>
                    </div>
                    <div class="simple-stack" id="k-up">
                        <span style="color: #999; font-size: 12px;">Boca Arriba</span>
                    </div>
                </div>
            </div>
            
            <div class="simple-position">
                <h3>Q</h3>
                <div class="simple-stacks">
                    <div class="simple-stack" id="q-down">
                        <span style="color: #999; font-size: 12px;">Boca Abajo</span>
                    </div>
                    <div class="simple-stack" id="q-up">
                        <span style="color: #999; font-size: 12px;">Boca Arriba</span>
                    </div>
                </div>
            </div>
        </div>
        
        <button id="test-cards" style="padding: 10px 20px; background: #4ecdc4; border: none; border-radius: 5px; color: white; cursor: pointer;">
            Crear Cartas de Test
        </button>
    </div>
    
    <div class="debug-section">
        <h2>Log de Debug</h2>
        <div id="debug-log" style="background: #000; padding: 10px; border-radius: 5px; height: 200px; overflow-y: auto; font-family: monospace; font-size: 12px;">
        </div>
    </div>
    
    <script>
        // Información del sistema
        document.getElementById('current-url').textContent = window.location.href;
        document.getElementById('base-path').textContent = window.location.origin + window.location.pathname.substring(0, window.location.pathname.lastIndexOf('/') + 1);
        
        const debugLog = document.getElementById('debug-log');
        
        function log(message, type = 'info') {
            const timestamp = new Date().toLocaleTimeString();
            const logEntry = document.createElement('div');
            logEntry.style.color = type === 'error' ? '#ff6b6b' : type === 'success' ? '#4ecdc4' : '#fff';
            logEntry.textContent = `[${timestamp}] ${message}`;
            debugLog.appendChild(logEntry);
            debugLog.scrollTop = debugLog.scrollHeight;
            console.log(message);
        }
        
        function createCard(value, suit, isFlipped = false) {
            const card = document.createElement('div');
            card.className = 'card';
            card.style.position = 'absolute';
            card.style.top = '0';
            card.style.left = '0';
            
            const img = document.createElement('img');
            img.src = isFlipped ? 'img/cards/Backcard.png' : `img/cards/${value}-${suit}.png`;
            img.alt = isFlipped ? 'Carta boca abajo' : `${value} de ${suit}`;
            
            img.addEventListener('load', () => {
                log(`✅ Imagen cargada: ${img.src}`, 'success');
            });
            
            img.addEventListener('error', () => {
                log(`❌ Error cargando: ${img.src}`, 'error');
            });
            
            card.appendChild(img);
            return card;
        }
        
        document.getElementById('test-cards').addEventListener('click', () => {
            log('Iniciando test de creación de cartas...');
            
            // Limpiar pilas
            document.querySelectorAll('.simple-stack').forEach(stack => {
                stack.innerHTML = '';
            });
            
            // Crear cartas de test
            const testCards = [
                { value: 'A', suit: 'C', position: 'a-down', flipped: true },
                { value: 'A', suit: 'H', position: 'a-up', flipped: false },
                { value: '2', suit: 'D', position: 'two-down', flipped: true },
                { value: '2', suit: 'S', position: 'two-up', flipped: false },
                { value: 'K', suit: 'H', position: 'k-down', flipped: true },
                { value: 'K', suit: 'C', position: 'k-up', flipped: false },
                { value: 'Q', suit: 'D', position: 'q-down', flipped: true },
                { value: 'Q', suit: 'S', position: 'q-up', flipped: false }
            ];
            
            testCards.forEach((testCard, index) => {
                setTimeout(() => {
                    const card = createCard(testCard.value, testCard.suit, testCard.flipped);
                    const stack = document.getElementById(testCard.position);
                    if (stack) {
                        stack.appendChild(card);
                        log(`Carta creada en ${testCard.position}: ${testCard.value}-${testCard.suit} (flipped: ${testCard.flipped})`);
                    } else {
                        log(`❌ No se encontró stack: ${testCard.position}`, 'error');
                    }
                }, index * 200);
            });
        });
        
        log('Debug page cargada correctamente');
    </script>
</body>
</html>
